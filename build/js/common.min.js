(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

$(document).ready(function () {
	var _$$slick, _$$slick2;

	function setDroppDownButtonSize() {

		var $width = $("#card .wr .right-coll .buttons .btn-main.type2").outerWidth(),
		    $height = $("#card .wr .right-coll .buttons .btn-main.type2").outerHeight(),
		    $droppButton = $("#card .wr .right-coll .wr_size .select-dropp .select-wrapper");
		//$droppButton.outerHeight($height);
		$droppButton.outerWidth($width);
	}
	setTimeout(setDroppDownButtonSize, 40);

	$(window).on("resize", setDroppDownButtonSize);

	//check if mobile 
	var isMobile = false; //initiate as false
	// device detection
	if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) isMobile = true;

	if (!isMobile) {
		$('select').material_select({});
	} else {
		$("#card .select-dropp").addClass("isMobile");
	};

	// менюшка каталога в мобильной версии
	$(".toggleAside").click(function () {
		$("aside.filter.sticky").toggleClass("isActive");
		$(".toggleAside").toggleClass("active1");
	});
	$(window).resize(function () {
		$("aside.filter.sticky").removeClass("isActive");
		$(".toggleAside").removeClass("active1");
	});

	objectFitImages("img.img_cont");

	$("#personal a").on("mouseenter", function () {
		$(this).parent().addClass("hov");
	});
	$("#personal a").on("mouseleave", function () {
		$(this).parent().removeClass("hov");
	});

	//droppdown button in card
	/*$('.dropdown-button').dropdown({
 	inDuration: 300,
 	outDuration: 225,
 	constrainWidth: true, // Does not change width of dropdown to that of the activator
 	hover: false, // Activate on hover
 	gutter: 0, // Spacing from edge
 		belowOrigin: true, // Displays dropdown below the button
 	alignment: 'left', // Displays dropdown with edge aligned to the left of button
 	stopPropagation: false // Stops event propagation
 });*/

	//parallax
	$('.parallax').parallax();

	//readmore
	$('.collapsible').collapsible({
		onOpen: function onOpen(el) {
			$('.readmore').readmore({
				speed: 200,
				collapsedHeight: 80,
				moreLink: '<a href="#"><span>показать еще</span>&nbsp;&darr;</a>',
				lessLink: '<a href="#"><span>Скрыть</span>&nbsp;&uarr;</a>'
			});
			$('.readmore2').readmore({
				speed: 80,
				collapsedHeight: 90,
				moreLink: '<a href="#"><span>показать еще</span>&nbsp;&darr;</a>',
				lessLink: '<a href="#"><span>Скрыть</span>&nbsp;&uarr;</a>'
			});
		}
	});

	//basket number 
	if (+$(".basket").attr("data-num")) {
		$(".basket").addClass("basket_num").css;
	}
	if (+$(".favourites").attr("data-num")) {
		$(".favourites").addClass("favourites_num").css;
	}

	//set dimensions 
	//$("#navigation").css("margin-top", $("#header").height());
	$("#navigation").css("margin-top", document.getElementById("header").offsetHeight);
	$("#catalog .wr .filter").css("top", $("#header").outerHeight() + $("#breadcrumbs").outerHeight() + 10);

	$("#catalog .wr .filter").css("top", document.getElementById("header").offsetHeight + $("#breadcrumbs").outerHeight() + 10);

	//$("#breadcrumbs").css("top", $("#header").height() + 10);
	$("#breadcrumbs").css("top", document.getElementById("header").offsetHeight + 10);

	//----------------
	//    $("#navigation").css("margin-top", $("#header").height());
	//    $("#catalog .wr .filter").css("top", $("#header").outerHeight() + $("#breadcrumbs").outerHeight() + 10);
	//    $("#breadcrumbs").css("top", $("#header").height() + 10);
	//--------------


	//behaviour of header by scrolling 
	function headerBehaviour1() {

		$.scrollDetection = function (options) {
			var settings = $.extend({
				scrollDown: function scrollDown() {},
				scrollUp: function scrollUp() {}
			}, options);

			var scrollPosition = 0;
			$(window).scroll(function () {
				var cursorPosition = $(this).scrollTop();
				if (cursorPosition > scrollPosition) {
					settings.scrollDown();
				} else if (cursorPosition < scrollPosition) {
					settings.scrollUp();
				}
				scrollPosition = cursorPosition;
			});
		};

		//        //----------------
		//        var $header = $("header");
		//        $.scrollDetection({
		//            scrollDown: function () {
		//                $header.addClass("header_hidden");
		//                $header.css("top", -$("#header").outerHeight());
		//                $("#catalog .wr .filter").css("top", $("#breadcrumbs").outerHeight() + 20);
		//                $("#breadcrumbs").css("top", 0);
		//            },
		//            scrollUp: function () {
		//                $header.removeClass("header_hidden");
		//                $header.css("top", "");
		//                $("#catalog .wr .filter").css("top", $("#header").outerHeight() + $("#breadcrumbs").outerHeight() + 10);
		//                $("#breadcrumbs").css("top", $("#header").height());
		//            }
		//        });
		//--------------


		var $header = $("header");
		$.scrollDetection({
			scrollDown: function scrollDown() {
				$header.addClass("header_hidden");
				//$header.css("top", -$("#header").outerHeight());
				$header.css("top", -document.getElementById("header").offsetHeight);
				$("#catalog .wr .filter").css("top", $("#breadcrumbs").outerHeight() + 20);
				//$("#catalog .wr .filter").css("top", document.getElementById("breadcrumbs").offsetHeight + 20);
				$("#breadcrumbs").css("top", 0);
				$(".filter_mob_swipe").css("top", "");
			},
			scrollUp: function scrollUp() {
				$header.removeClass("header_hidden");
				$header.css("top", "");
				$("#catalog .wr .filter").css("top", $("#header").outerHeight() + $("#breadcrumbs").outerHeight() + 10);
				//$("#catalog .wr .filter").css("top", document.getElementById("header").offsetHeight + document.getElementById("breadcrumbs").offsetHeight + 10);
				//$("#breadcrumbs").css("top", $("#header").height());
				$("#breadcrumbs").css("top", document.getElementById("header").offsetHeight);
				//$(".filter_mob_swipe").css("top", $("#header").height());
				$(".filter_mob_swipe").css("top", document.getElementById("header").offsetHeight);
			}
		});
	}

	headerBehaviour1();

	//WOW init
	new WOW().init();

	// slide and swipe menu init
	$('nav').slideAndSwipe();
	//$('.containSwipe').slideAndSwipe();

	$(".ssm-toggle-nav").on("click", function () {
		$("body").toggleClass("body_OH");
	});

	document.addEventListener("keydown", keyDownTextField, false);

	function keyDownTextField(e) {
		var keyCode = e.keyCode;
		if (keyCode == 27) {}
	}

	//slick-slider

	$('.responsive').slick((_$$slick = {
		dots: true,
		infinite: true,
		speed: 300,
		slidesToShow: 4
	}, _defineProperty(_$$slick, "dots", false), _defineProperty(_$$slick, "slidesToScroll", 1), _defineProperty(_$$slick, "autoplay", true), _defineProperty(_$$slick, "autoplaySpeed", 2000), _defineProperty(_$$slick, "responsive", [{
		breakpoint: 1024,
		settings: {
			slidesToShow: 3,
			slidesToScroll: 3,
			infinite: true,
			dots: false
		}
	}, {
		breakpoint: 600,
		settings: {
			slidesToShow: 2,
			slidesToScroll: 2
		}
	}, {
		breakpoint: 480,
		settings: {
			slidesToShow: 1,
			slidesToScroll: 1
		}
		// You can unslick at a given breakpoint now by adding:
		// settings: "unslick"
		// instead of a settings object
	}]), _$$slick));

	$('.responsive_1').slick((_$$slick2 = {
		dots: true,
		infinite: true,
		speed: 300,
		slidesToShow: 3
	}, _defineProperty(_$$slick2, "dots", false), _defineProperty(_$$slick2, "slidesToScroll", 1), _defineProperty(_$$slick2, "autoplay", true), _defineProperty(_$$slick2, "arrows", false), _defineProperty(_$$slick2, "autoplaySpeed", 2000), _defineProperty(_$$slick2, "responsive", [{
		breakpoint: 1024,
		settings: {
			slidesToShow: 3,
			slidesToScroll: 3,
			infinite: true,
			dots: false
		}
	}, {
		breakpoint: 600,
		settings: {
			slidesToShow: 2,
			slidesToScroll: 2
		}
	}, {
		breakpoint: 480,
		settings: {
			slidesToShow: 1,
			slidesToScroll: 1
		}
		// You can unslick at a given breakpoint now by adding:
		// settings: "unslick"
		// instead of a settings object
	}]), _$$slick2));

	$('.slider-for').slick({
		slidesToShow: 1,
		slidesToScroll: 1,
		arrows: false,
		fade: true,
		asNavFor: '.slider-nav'
	});

	$('.slider-nav').slick({
		slidesToShow: 3,
		slidesToScroll: 1,
		asNavFor: '.slider-for',
		autoplay: true,
		autoplaySpeed: 3000,
		centerMode: true,
		arrows: true,
		centerPadding: 0,
		focusOnSelect: true,
		responsive: [{
			breakpoint: 520,
			settings: {
				slidesToShow: 2,
				slidesToScroll: 2
			}
		}]
	});

	$('.slider-for').slickLightbox({
		src: 'src',
		itemSelector: 'img'
	});

	//Form VAlidation 

	$("#js_register_form").validate({
		rules: {
			form_name: {
				required: true
			},
			form_email: {
				required: true,
				email: true
			},
			form_phone: {
				required: true,
				minlenhth: 10,
				digits: true
			}
		},
		messages: {
			form_name: {
				required: "Обязательное поле"
			},
			form_email: {
				required: "Обязательное поле",
				email: "Введите корректный Email"
			},
			form_phone: {
				required: "Обязательное поле"
			}
		},
		focusCleanup: true,
		focusInvalid: false
	});
	$("#js_register_form2").validate({
		rules: {
			form_name: {
				required: true
			},
			form_email: {
				required: true,
				email: true
			},
			form_phone: {
				required: true,
				minlength: 10,
				digits: true
			},
			form_passR: {
				equalTo: "#form_pass",
				minlength: 6
			},
			form_pass: {
				minlength: 6
			}
		},
		messages: {
			form_name: {
				required: "Обязательное поле"
			},
			form_email: {
				required: "Обязательное поле",
				email: "Введите корректный Email"
			},
			form_phone: {
				required: "Обязательное поле",
				minlength: "Пароль не менее 6 символов"
			},
			form_passR: {
				equalTo: "Пароли не совпадают",
				minlength: "Пароль не менее 6 символов"
			}
		},
		focusCleanup: true,
		focusInvalid: false
	});

	//phone input mask

	//		 $("#form_phone, #form_phone2").mask("(999) 999-99-99");
	$("#form_phone, #form_phone2").mask('(000) 000-00-00');

	// buttton UP
	// button arrow to UP

	$("body").append("<button class='btn_up'/>");

	$(window).scroll(function () {
		var windscroll = $(window).scrollTop();
		if ($(window).scrollTop() > 50) {
			$(".btn_up").addClass("activeB");
		} else {
			$(".btn_up").removeClass("activeB");
		}
	});

	$(".btn_up").on("click", function (e) {
		e.preventDefault();
		$(this).removeClass("activeB");
		$("body").animate({
			'scrollTop': 0
		}, 800);
		$("html").animate({
			'scrollTop': 0
		}, 800);
	});

	$(window).on("resize", setTopAside);

	function setTopAside() {
		$("header nav").css("top", document.getElementById("header").offsetHeight);
		$("header .ssm-overlay").css("top", document.getElementById("header").offsetHeight);
	}
	setTopAside();

	$('.sticky').Stickyfill();
});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvanMvY29tbW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0dmFyIF8kJHNsaWNrLCBfJCRzbGljazI7XG5cblx0ZnVuY3Rpb24gc2V0RHJvcHBEb3duQnV0dG9uU2l6ZSgpIHtcblxuXHRcdHZhciAkd2lkdGggPSAkKFwiI2NhcmQgLndyIC5yaWdodC1jb2xsIC5idXR0b25zIC5idG4tbWFpbi50eXBlMlwiKS5vdXRlcldpZHRoKCksXG5cdFx0ICAgICRoZWlnaHQgPSAkKFwiI2NhcmQgLndyIC5yaWdodC1jb2xsIC5idXR0b25zIC5idG4tbWFpbi50eXBlMlwiKS5vdXRlckhlaWdodCgpLFxuXHRcdCAgICAkZHJvcHBCdXR0b24gPSAkKFwiI2NhcmQgLndyIC5yaWdodC1jb2xsIC53cl9zaXplIC5zZWxlY3QtZHJvcHAgLnNlbGVjdC13cmFwcGVyXCIpO1xuXHRcdC8vJGRyb3BwQnV0dG9uLm91dGVySGVpZ2h0KCRoZWlnaHQpO1xuXHRcdCRkcm9wcEJ1dHRvbi5vdXRlcldpZHRoKCR3aWR0aCk7XG5cdH1cblx0c2V0VGltZW91dChzZXREcm9wcERvd25CdXR0b25TaXplLCA0MCk7XG5cblx0JCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIHNldERyb3BwRG93bkJ1dHRvblNpemUpO1xuXG5cdC8vY2hlY2sgaWYgbW9iaWxlIFxuXHR2YXIgaXNNb2JpbGUgPSBmYWxzZTsgLy9pbml0aWF0ZSBhcyBmYWxzZVxuXHQvLyBkZXZpY2UgZGV0ZWN0aW9uXG5cdGlmICgvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXBhZHxpcmlzfGtpbmRsZXxBbmRyb2lkfFNpbGt8bGdlIHxtYWVtb3xtaWRwfG1tcHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWluby9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnN1YnN0cigwLCA0KSkpIGlzTW9iaWxlID0gdHJ1ZTtcblxuXHRpZiAoIWlzTW9iaWxlKSB7XG5cdFx0JCgnc2VsZWN0JykubWF0ZXJpYWxfc2VsZWN0KHt9KTtcblx0fSBlbHNlIHtcblx0XHQkKFwiI2NhcmQgLnNlbGVjdC1kcm9wcFwiKS5hZGRDbGFzcyhcImlzTW9iaWxlXCIpO1xuXHR9O1xuXG5cdC8vINC80LXQvdGO0YjQutCwINC60LDRgtCw0LvQvtCz0LAg0LIg0LzQvtCx0LjQu9GM0L3QvtC5INCy0LXRgNGB0LjQuFxuXHQkKFwiLnRvZ2dsZUFzaWRlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XHQkKFwiYXNpZGUuZmlsdGVyLnN0aWNreVwiKS50b2dnbGVDbGFzcyhcImlzQWN0aXZlXCIpO1xuXHRcdCQoXCIudG9nZ2xlQXNpZGVcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmUxXCIpO1xuXHR9KTtcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XG5cdFx0JChcImFzaWRlLmZpbHRlci5zdGlja3lcIikucmVtb3ZlQ2xhc3MoXCJpc0FjdGl2ZVwiKTtcblx0XHQkKFwiLnRvZ2dsZUFzaWRlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlMVwiKTtcblx0fSk7XG5cblx0b2JqZWN0Rml0SW1hZ2VzKFwiaW1nLmltZ19jb250XCIpO1xuXG5cdCQoXCIjcGVyc29uYWwgYVwiKS5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKCkge1xuXHRcdCQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoXCJob3ZcIik7XG5cdH0pO1xuXHQkKFwiI3BlcnNvbmFsIGFcIikub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcblx0XHQkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiaG92XCIpO1xuXHR9KTtcblxuXHQvL2Ryb3BwZG93biBidXR0b24gaW4gY2FyZFxuXHQvKiQoJy5kcm9wZG93bi1idXR0b24nKS5kcm9wZG93bih7XG4gXHRpbkR1cmF0aW9uOiAzMDAsXG4gXHRvdXREdXJhdGlvbjogMjI1LFxuIFx0Y29uc3RyYWluV2lkdGg6IHRydWUsIC8vIERvZXMgbm90IGNoYW5nZSB3aWR0aCBvZiBkcm9wZG93biB0byB0aGF0IG9mIHRoZSBhY3RpdmF0b3JcbiBcdGhvdmVyOiBmYWxzZSwgLy8gQWN0aXZhdGUgb24gaG92ZXJcbiBcdGd1dHRlcjogMCwgLy8gU3BhY2luZyBmcm9tIGVkZ2VcbiBcdFx0YmVsb3dPcmlnaW46IHRydWUsIC8vIERpc3BsYXlzIGRyb3Bkb3duIGJlbG93IHRoZSBidXR0b25cbiBcdGFsaWdubWVudDogJ2xlZnQnLCAvLyBEaXNwbGF5cyBkcm9wZG93biB3aXRoIGVkZ2UgYWxpZ25lZCB0byB0aGUgbGVmdCBvZiBidXR0b25cbiBcdHN0b3BQcm9wYWdhdGlvbjogZmFsc2UgLy8gU3RvcHMgZXZlbnQgcHJvcGFnYXRpb25cbiB9KTsqL1xuXG5cdC8vcGFyYWxsYXhcblx0JCgnLnBhcmFsbGF4JykucGFyYWxsYXgoKTtcblxuXHQvL3JlYWRtb3JlXG5cdCQoJy5jb2xsYXBzaWJsZScpLmNvbGxhcHNpYmxlKHtcblx0XHRvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbihlbCkge1xuXHRcdFx0JCgnLnJlYWRtb3JlJykucmVhZG1vcmUoe1xuXHRcdFx0XHRzcGVlZDogMjAwLFxuXHRcdFx0XHRjb2xsYXBzZWRIZWlnaHQ6IDgwLFxuXHRcdFx0XHRtb3JlTGluazogJzxhIGhyZWY9XCIjXCI+PHNwYW4+0L/QvtC60LDQt9Cw0YLRjCDQtdGJ0LU8L3NwYW4+Jm5ic3A7JmRhcnI7PC9hPicsXG5cdFx0XHRcdGxlc3NMaW5rOiAnPGEgaHJlZj1cIiNcIj48c3Bhbj7QodC60YDRi9GC0Yw8L3NwYW4+Jm5ic3A7JnVhcnI7PC9hPidcblx0XHRcdH0pO1xuXHRcdFx0JCgnLnJlYWRtb3JlMicpLnJlYWRtb3JlKHtcblx0XHRcdFx0c3BlZWQ6IDgwLFxuXHRcdFx0XHRjb2xsYXBzZWRIZWlnaHQ6IDkwLFxuXHRcdFx0XHRtb3JlTGluazogJzxhIGhyZWY9XCIjXCI+PHNwYW4+0L/QvtC60LDQt9Cw0YLRjCDQtdGJ0LU8L3NwYW4+Jm5ic3A7JmRhcnI7PC9hPicsXG5cdFx0XHRcdGxlc3NMaW5rOiAnPGEgaHJlZj1cIiNcIj48c3Bhbj7QodC60YDRi9GC0Yw8L3NwYW4+Jm5ic3A7JnVhcnI7PC9hPidcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0Ly9iYXNrZXQgbnVtYmVyIFxuXHRpZiAoKyQoXCIuYmFza2V0XCIpLmF0dHIoXCJkYXRhLW51bVwiKSkge1xuXHRcdCQoXCIuYmFza2V0XCIpLmFkZENsYXNzKFwiYmFza2V0X251bVwiKS5jc3M7XG5cdH1cblx0aWYgKCskKFwiLmZhdm91cml0ZXNcIikuYXR0cihcImRhdGEtbnVtXCIpKSB7XG5cdFx0JChcIi5mYXZvdXJpdGVzXCIpLmFkZENsYXNzKFwiZmF2b3VyaXRlc19udW1cIikuY3NzO1xuXHR9XG5cblx0Ly9zZXQgZGltZW5zaW9ucyBcblx0Ly8kKFwiI25hdmlnYXRpb25cIikuY3NzKFwibWFyZ2luLXRvcFwiLCAkKFwiI2hlYWRlclwiKS5oZWlnaHQoKSk7XG5cdCQoXCIjbmF2aWdhdGlvblwiKS5jc3MoXCJtYXJnaW4tdG9wXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpLm9mZnNldEhlaWdodCk7XG5cdCQoXCIjY2F0YWxvZyAud3IgLmZpbHRlclwiKS5jc3MoXCJ0b3BcIiwgJChcIiNoZWFkZXJcIikub3V0ZXJIZWlnaHQoKSArICQoXCIjYnJlYWRjcnVtYnNcIikub3V0ZXJIZWlnaHQoKSArIDEwKTtcblxuXHQkKFwiI2NhdGFsb2cgLndyIC5maWx0ZXJcIikuY3NzKFwidG9wXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpLm9mZnNldEhlaWdodCArICQoXCIjYnJlYWRjcnVtYnNcIikub3V0ZXJIZWlnaHQoKSArIDEwKTtcblxuXHQvLyQoXCIjYnJlYWRjcnVtYnNcIikuY3NzKFwidG9wXCIsICQoXCIjaGVhZGVyXCIpLmhlaWdodCgpICsgMTApO1xuXHQkKFwiI2JyZWFkY3J1bWJzXCIpLmNzcyhcInRvcFwiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlclwiKS5vZmZzZXRIZWlnaHQgKyAxMCk7XG5cblx0Ly8tLS0tLS0tLS0tLS0tLS0tXG5cdC8vICAgICQoXCIjbmF2aWdhdGlvblwiKS5jc3MoXCJtYXJnaW4tdG9wXCIsICQoXCIjaGVhZGVyXCIpLmhlaWdodCgpKTtcblx0Ly8gICAgJChcIiNjYXRhbG9nIC53ciAuZmlsdGVyXCIpLmNzcyhcInRvcFwiLCAkKFwiI2hlYWRlclwiKS5vdXRlckhlaWdodCgpICsgJChcIiNicmVhZGNydW1ic1wiKS5vdXRlckhlaWdodCgpICsgMTApO1xuXHQvLyAgICAkKFwiI2JyZWFkY3J1bWJzXCIpLmNzcyhcInRvcFwiLCAkKFwiI2hlYWRlclwiKS5oZWlnaHQoKSArIDEwKTtcblx0Ly8tLS0tLS0tLS0tLS0tLVxuXG5cblx0Ly9iZWhhdmlvdXIgb2YgaGVhZGVyIGJ5IHNjcm9sbGluZyBcblx0ZnVuY3Rpb24gaGVhZGVyQmVoYXZpb3VyMSgpIHtcblxuXHRcdCQuc2Nyb2xsRGV0ZWN0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRcdHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHtcblx0XHRcdFx0c2Nyb2xsRG93bjogZnVuY3Rpb24gc2Nyb2xsRG93bigpIHt9LFxuXHRcdFx0XHRzY3JvbGxVcDogZnVuY3Rpb24gc2Nyb2xsVXAoKSB7fVxuXHRcdFx0fSwgb3B0aW9ucyk7XG5cblx0XHRcdHZhciBzY3JvbGxQb3NpdGlvbiA9IDA7XG5cdFx0XHQkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIGN1cnNvclBvc2l0aW9uID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcblx0XHRcdFx0aWYgKGN1cnNvclBvc2l0aW9uID4gc2Nyb2xsUG9zaXRpb24pIHtcblx0XHRcdFx0XHRzZXR0aW5ncy5zY3JvbGxEb3duKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoY3Vyc29yUG9zaXRpb24gPCBzY3JvbGxQb3NpdGlvbikge1xuXHRcdFx0XHRcdHNldHRpbmdzLnNjcm9sbFVwKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2Nyb2xsUG9zaXRpb24gPSBjdXJzb3JQb3NpdGlvbjtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHQvLyAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Ly8gICAgICAgIHZhciAkaGVhZGVyID0gJChcImhlYWRlclwiKTtcblx0XHQvLyAgICAgICAgJC5zY3JvbGxEZXRlY3Rpb24oe1xuXHRcdC8vICAgICAgICAgICAgc2Nyb2xsRG93bjogZnVuY3Rpb24gKCkge1xuXHRcdC8vICAgICAgICAgICAgICAgICRoZWFkZXIuYWRkQ2xhc3MoXCJoZWFkZXJfaGlkZGVuXCIpO1xuXHRcdC8vICAgICAgICAgICAgICAgICRoZWFkZXIuY3NzKFwidG9wXCIsIC0kKFwiI2hlYWRlclwiKS5vdXRlckhlaWdodCgpKTtcblx0XHQvLyAgICAgICAgICAgICAgICAkKFwiI2NhdGFsb2cgLndyIC5maWx0ZXJcIikuY3NzKFwidG9wXCIsICQoXCIjYnJlYWRjcnVtYnNcIikub3V0ZXJIZWlnaHQoKSArIDIwKTtcblx0XHQvLyAgICAgICAgICAgICAgICAkKFwiI2JyZWFkY3J1bWJzXCIpLmNzcyhcInRvcFwiLCAwKTtcblx0XHQvLyAgICAgICAgICAgIH0sXG5cdFx0Ly8gICAgICAgICAgICBzY3JvbGxVcDogZnVuY3Rpb24gKCkge1xuXHRcdC8vICAgICAgICAgICAgICAgICRoZWFkZXIucmVtb3ZlQ2xhc3MoXCJoZWFkZXJfaGlkZGVuXCIpO1xuXHRcdC8vICAgICAgICAgICAgICAgICRoZWFkZXIuY3NzKFwidG9wXCIsIFwiXCIpO1xuXHRcdC8vICAgICAgICAgICAgICAgICQoXCIjY2F0YWxvZyAud3IgLmZpbHRlclwiKS5jc3MoXCJ0b3BcIiwgJChcIiNoZWFkZXJcIikub3V0ZXJIZWlnaHQoKSArICQoXCIjYnJlYWRjcnVtYnNcIikub3V0ZXJIZWlnaHQoKSArIDEwKTtcblx0XHQvLyAgICAgICAgICAgICAgICAkKFwiI2JyZWFkY3J1bWJzXCIpLmNzcyhcInRvcFwiLCAkKFwiI2hlYWRlclwiKS5oZWlnaHQoKSk7XG5cdFx0Ly8gICAgICAgICAgICB9XG5cdFx0Ly8gICAgICAgIH0pO1xuXHRcdC8vLS0tLS0tLS0tLS0tLS1cblxuXG5cdFx0dmFyICRoZWFkZXIgPSAkKFwiaGVhZGVyXCIpO1xuXHRcdCQuc2Nyb2xsRGV0ZWN0aW9uKHtcblx0XHRcdHNjcm9sbERvd246IGZ1bmN0aW9uIHNjcm9sbERvd24oKSB7XG5cdFx0XHRcdCRoZWFkZXIuYWRkQ2xhc3MoXCJoZWFkZXJfaGlkZGVuXCIpO1xuXHRcdFx0XHQvLyRoZWFkZXIuY3NzKFwidG9wXCIsIC0kKFwiI2hlYWRlclwiKS5vdXRlckhlaWdodCgpKTtcblx0XHRcdFx0JGhlYWRlci5jc3MoXCJ0b3BcIiwgLWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpLm9mZnNldEhlaWdodCk7XG5cdFx0XHRcdCQoXCIjY2F0YWxvZyAud3IgLmZpbHRlclwiKS5jc3MoXCJ0b3BcIiwgJChcIiNicmVhZGNydW1ic1wiKS5vdXRlckhlaWdodCgpICsgMjApO1xuXHRcdFx0XHQvLyQoXCIjY2F0YWxvZyAud3IgLmZpbHRlclwiKS5jc3MoXCJ0b3BcIiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJicmVhZGNydW1ic1wiKS5vZmZzZXRIZWlnaHQgKyAyMCk7XG5cdFx0XHRcdCQoXCIjYnJlYWRjcnVtYnNcIikuY3NzKFwidG9wXCIsIDApO1xuXHRcdFx0XHQkKFwiLmZpbHRlcl9tb2Jfc3dpcGVcIikuY3NzKFwidG9wXCIsIFwiXCIpO1xuXHRcdFx0fSxcblx0XHRcdHNjcm9sbFVwOiBmdW5jdGlvbiBzY3JvbGxVcCgpIHtcblx0XHRcdFx0JGhlYWRlci5yZW1vdmVDbGFzcyhcImhlYWRlcl9oaWRkZW5cIik7XG5cdFx0XHRcdCRoZWFkZXIuY3NzKFwidG9wXCIsIFwiXCIpO1xuXHRcdFx0XHQkKFwiI2NhdGFsb2cgLndyIC5maWx0ZXJcIikuY3NzKFwidG9wXCIsICQoXCIjaGVhZGVyXCIpLm91dGVySGVpZ2h0KCkgKyAkKFwiI2JyZWFkY3J1bWJzXCIpLm91dGVySGVpZ2h0KCkgKyAxMCk7XG5cdFx0XHRcdC8vJChcIiNjYXRhbG9nIC53ciAuZmlsdGVyXCIpLmNzcyhcInRvcFwiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlclwiKS5vZmZzZXRIZWlnaHQgKyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJyZWFkY3J1bWJzXCIpLm9mZnNldEhlaWdodCArIDEwKTtcblx0XHRcdFx0Ly8kKFwiI2JyZWFkY3J1bWJzXCIpLmNzcyhcInRvcFwiLCAkKFwiI2hlYWRlclwiKS5oZWlnaHQoKSk7XG5cdFx0XHRcdCQoXCIjYnJlYWRjcnVtYnNcIikuY3NzKFwidG9wXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpLm9mZnNldEhlaWdodCk7XG5cdFx0XHRcdC8vJChcIi5maWx0ZXJfbW9iX3N3aXBlXCIpLmNzcyhcInRvcFwiLCAkKFwiI2hlYWRlclwiKS5oZWlnaHQoKSk7XG5cdFx0XHRcdCQoXCIuZmlsdGVyX21vYl9zd2lwZVwiKS5jc3MoXCJ0b3BcIiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWFkZXJcIikub2Zmc2V0SGVpZ2h0KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGhlYWRlckJlaGF2aW91cjEoKTtcblxuXHQvL1dPVyBpbml0XG5cdG5ldyBXT1coKS5pbml0KCk7XG5cblx0Ly8gc2xpZGUgYW5kIHN3aXBlIG1lbnUgaW5pdFxuXHQkKCduYXYnKS5zbGlkZUFuZFN3aXBlKCk7XG5cdC8vJCgnLmNvbnRhaW5Td2lwZScpLnNsaWRlQW5kU3dpcGUoKTtcblxuXHQkKFwiLnNzbS10b2dnbGUtbmF2XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdCQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwiYm9keV9PSFwiKTtcblx0fSk7XG5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93blRleHRGaWVsZCwgZmFsc2UpO1xuXG5cdGZ1bmN0aW9uIGtleURvd25UZXh0RmllbGQoZSkge1xuXHRcdHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xuXHRcdGlmIChrZXlDb2RlID09IDI3KSB7fVxuXHR9XG5cblx0Ly9zbGljay1zbGlkZXJcblxuXHQkKCcucmVzcG9uc2l2ZScpLnNsaWNrKChfJCRzbGljayA9IHtcblx0XHRkb3RzOiB0cnVlLFxuXHRcdGluZmluaXRlOiB0cnVlLFxuXHRcdHNwZWVkOiAzMDAsXG5cdFx0c2xpZGVzVG9TaG93OiA0XG5cdH0sIF9kZWZpbmVQcm9wZXJ0eShfJCRzbGljaywgXCJkb3RzXCIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF8kJHNsaWNrLCBcInNsaWRlc1RvU2Nyb2xsXCIsIDEpLCBfZGVmaW5lUHJvcGVydHkoXyQkc2xpY2ssIFwiYXV0b3BsYXlcIiwgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfJCRzbGljaywgXCJhdXRvcGxheVNwZWVkXCIsIDIwMDApLCBfZGVmaW5lUHJvcGVydHkoXyQkc2xpY2ssIFwicmVzcG9uc2l2ZVwiLCBbe1xuXHRcdGJyZWFrcG9pbnQ6IDEwMjQsXG5cdFx0c2V0dGluZ3M6IHtcblx0XHRcdHNsaWRlc1RvU2hvdzogMyxcblx0XHRcdHNsaWRlc1RvU2Nyb2xsOiAzLFxuXHRcdFx0aW5maW5pdGU6IHRydWUsXG5cdFx0XHRkb3RzOiBmYWxzZVxuXHRcdH1cblx0fSwge1xuXHRcdGJyZWFrcG9pbnQ6IDYwMCxcblx0XHRzZXR0aW5nczoge1xuXHRcdFx0c2xpZGVzVG9TaG93OiAyLFxuXHRcdFx0c2xpZGVzVG9TY3JvbGw6IDJcblx0XHR9XG5cdH0sIHtcblx0XHRicmVha3BvaW50OiA0ODAsXG5cdFx0c2V0dGluZ3M6IHtcblx0XHRcdHNsaWRlc1RvU2hvdzogMSxcblx0XHRcdHNsaWRlc1RvU2Nyb2xsOiAxXG5cdFx0fVxuXHRcdC8vIFlvdSBjYW4gdW5zbGljayBhdCBhIGdpdmVuIGJyZWFrcG9pbnQgbm93IGJ5IGFkZGluZzpcblx0XHQvLyBzZXR0aW5nczogXCJ1bnNsaWNrXCJcblx0XHQvLyBpbnN0ZWFkIG9mIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdH1dKSwgXyQkc2xpY2spKTtcblxuXHQkKCcucmVzcG9uc2l2ZV8xJykuc2xpY2soKF8kJHNsaWNrMiA9IHtcblx0XHRkb3RzOiB0cnVlLFxuXHRcdGluZmluaXRlOiB0cnVlLFxuXHRcdHNwZWVkOiAzMDAsXG5cdFx0c2xpZGVzVG9TaG93OiAzXG5cdH0sIF9kZWZpbmVQcm9wZXJ0eShfJCRzbGljazIsIFwiZG90c1wiLCBmYWxzZSksIF9kZWZpbmVQcm9wZXJ0eShfJCRzbGljazIsIFwic2xpZGVzVG9TY3JvbGxcIiwgMSksIF9kZWZpbmVQcm9wZXJ0eShfJCRzbGljazIsIFwiYXV0b3BsYXlcIiwgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfJCRzbGljazIsIFwiYXJyb3dzXCIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF8kJHNsaWNrMiwgXCJhdXRvcGxheVNwZWVkXCIsIDIwMDApLCBfZGVmaW5lUHJvcGVydHkoXyQkc2xpY2syLCBcInJlc3BvbnNpdmVcIiwgW3tcblx0XHRicmVha3BvaW50OiAxMDI0LFxuXHRcdHNldHRpbmdzOiB7XG5cdFx0XHRzbGlkZXNUb1Nob3c6IDMsXG5cdFx0XHRzbGlkZXNUb1Njcm9sbDogMyxcblx0XHRcdGluZmluaXRlOiB0cnVlLFxuXHRcdFx0ZG90czogZmFsc2Vcblx0XHR9XG5cdH0sIHtcblx0XHRicmVha3BvaW50OiA2MDAsXG5cdFx0c2V0dGluZ3M6IHtcblx0XHRcdHNsaWRlc1RvU2hvdzogMixcblx0XHRcdHNsaWRlc1RvU2Nyb2xsOiAyXG5cdFx0fVxuXHR9LCB7XG5cdFx0YnJlYWtwb2ludDogNDgwLFxuXHRcdHNldHRpbmdzOiB7XG5cdFx0XHRzbGlkZXNUb1Nob3c6IDEsXG5cdFx0XHRzbGlkZXNUb1Njcm9sbDogMVxuXHRcdH1cblx0XHQvLyBZb3UgY2FuIHVuc2xpY2sgYXQgYSBnaXZlbiBicmVha3BvaW50IG5vdyBieSBhZGRpbmc6XG5cdFx0Ly8gc2V0dGluZ3M6IFwidW5zbGlja1wiXG5cdFx0Ly8gaW5zdGVhZCBvZiBhIHNldHRpbmdzIG9iamVjdFxuXHR9XSksIF8kJHNsaWNrMikpO1xuXG5cdCQoJy5zbGlkZXItZm9yJykuc2xpY2soe1xuXHRcdHNsaWRlc1RvU2hvdzogMSxcblx0XHRzbGlkZXNUb1Njcm9sbDogMSxcblx0XHRhcnJvd3M6IGZhbHNlLFxuXHRcdGZhZGU6IHRydWUsXG5cdFx0YXNOYXZGb3I6ICcuc2xpZGVyLW5hdidcblx0fSk7XG5cblx0JCgnLnNsaWRlci1uYXYnKS5zbGljayh7XG5cdFx0c2xpZGVzVG9TaG93OiAzLFxuXHRcdHNsaWRlc1RvU2Nyb2xsOiAxLFxuXHRcdGFzTmF2Rm9yOiAnLnNsaWRlci1mb3InLFxuXHRcdGF1dG9wbGF5OiB0cnVlLFxuXHRcdGF1dG9wbGF5U3BlZWQ6IDMwMDAsXG5cdFx0Y2VudGVyTW9kZTogdHJ1ZSxcblx0XHRhcnJvd3M6IHRydWUsXG5cdFx0Y2VudGVyUGFkZGluZzogMCxcblx0XHRmb2N1c09uU2VsZWN0OiB0cnVlLFxuXHRcdHJlc3BvbnNpdmU6IFt7XG5cdFx0XHRicmVha3BvaW50OiA1MjAsXG5cdFx0XHRzZXR0aW5nczoge1xuXHRcdFx0XHRzbGlkZXNUb1Nob3c6IDIsXG5cdFx0XHRcdHNsaWRlc1RvU2Nyb2xsOiAyXG5cdFx0XHR9XG5cdFx0fV1cblx0fSk7XG5cblx0JCgnLnNsaWRlci1mb3InKS5zbGlja0xpZ2h0Ym94KHtcblx0XHRzcmM6ICdzcmMnLFxuXHRcdGl0ZW1TZWxlY3RvcjogJ2ltZydcblx0fSk7XG5cblx0Ly9Gb3JtIFZBbGlkYXRpb24gXG5cblx0JChcIiNqc19yZWdpc3Rlcl9mb3JtXCIpLnZhbGlkYXRlKHtcblx0XHRydWxlczoge1xuXHRcdFx0Zm9ybV9uYW1lOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybV9lbWFpbDoge1xuXHRcdFx0XHRyZXF1aXJlZDogdHJ1ZSxcblx0XHRcdFx0ZW1haWw6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRmb3JtX3Bob25lOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRtaW5sZW5odGg6IDEwLFxuXHRcdFx0XHRkaWdpdHM6IHRydWVcblx0XHRcdH1cblx0XHR9LFxuXHRcdG1lc3NhZ2VzOiB7XG5cdFx0XHRmb3JtX25hbWU6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IFwi0J7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1XCJcblx0XHRcdH0sXG5cdFx0XHRmb3JtX2VtYWlsOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiBcItCe0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiLFxuXHRcdFx0XHRlbWFpbDogXCLQktCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YvQuSBFbWFpbFwiXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybV9waG9uZToge1xuXHRcdFx0XHRyZXF1aXJlZDogXCLQntCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LUg0L/QvtC70LVcIlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Zm9jdXNDbGVhbnVwOiB0cnVlLFxuXHRcdGZvY3VzSW52YWxpZDogZmFsc2Vcblx0fSk7XG5cdCQoXCIjanNfcmVnaXN0ZXJfZm9ybTJcIikudmFsaWRhdGUoe1xuXHRcdHJ1bGVzOiB7XG5cdFx0XHRmb3JtX25hbWU6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRmb3JtX2VtYWlsOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRlbWFpbDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdGZvcm1fcGhvbmU6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdG1pbmxlbmd0aDogMTAsXG5cdFx0XHRcdGRpZ2l0czogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdGZvcm1fcGFzc1I6IHtcblx0XHRcdFx0ZXF1YWxUbzogXCIjZm9ybV9wYXNzXCIsXG5cdFx0XHRcdG1pbmxlbmd0aDogNlxuXHRcdFx0fSxcblx0XHRcdGZvcm1fcGFzczoge1xuXHRcdFx0XHRtaW5sZW5ndGg6IDZcblx0XHRcdH1cblx0XHR9LFxuXHRcdG1lc3NhZ2VzOiB7XG5cdFx0XHRmb3JtX25hbWU6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IFwi0J7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1XCJcblx0XHRcdH0sXG5cdFx0XHRmb3JtX2VtYWlsOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiBcItCe0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiLFxuXHRcdFx0XHRlbWFpbDogXCLQktCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YvQuSBFbWFpbFwiXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybV9waG9uZToge1xuXHRcdFx0XHRyZXF1aXJlZDogXCLQntCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LUg0L/QvtC70LVcIixcblx0XHRcdFx0bWlubGVuZ3RoOiBcItCf0LDRgNC+0LvRjCDQvdC1INC80LXQvdC10LUgNiDRgdC40LzQstC+0LvQvtCyXCJcblx0XHRcdH0sXG5cdFx0XHRmb3JtX3Bhc3NSOiB7XG5cdFx0XHRcdGVxdWFsVG86IFwi0J/QsNGA0L7Qu9C4INC90LUg0YHQvtCy0L/QsNC00LDRjtGCXCIsXG5cdFx0XHRcdG1pbmxlbmd0aDogXCLQn9Cw0YDQvtC70Ywg0L3QtSDQvNC10L3QtdC1IDYg0YHQuNC80LLQvtC70L7QslwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRmb2N1c0NsZWFudXA6IHRydWUsXG5cdFx0Zm9jdXNJbnZhbGlkOiBmYWxzZVxuXHR9KTtcblxuXHQvL3Bob25lIGlucHV0IG1hc2tcblxuXHQvL1x0XHQgJChcIiNmb3JtX3Bob25lLCAjZm9ybV9waG9uZTJcIikubWFzayhcIig5OTkpIDk5OS05OS05OVwiKTtcblx0JChcIiNmb3JtX3Bob25lLCAjZm9ybV9waG9uZTJcIikubWFzaygnKDAwMCkgMDAwLTAwLTAwJyk7XG5cblx0Ly8gYnV0dHRvbiBVUFxuXHQvLyBidXR0b24gYXJyb3cgdG8gVVBcblxuXHQkKFwiYm9keVwiKS5hcHBlbmQoXCI8YnV0dG9uIGNsYXNzPSdidG5fdXAnLz5cIik7XG5cblx0JCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHdpbmRzY3JvbGwgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cdFx0aWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDUwKSB7XG5cdFx0XHQkKFwiLmJ0bl91cFwiKS5hZGRDbGFzcyhcImFjdGl2ZUJcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoXCIuYnRuX3VwXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlQlwiKTtcblx0XHR9XG5cdH0pO1xuXG5cdCQoXCIuYnRuX3VwXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUJcIik7XG5cdFx0JChcImJvZHlcIikuYW5pbWF0ZSh7XG5cdFx0XHQnc2Nyb2xsVG9wJzogMFxuXHRcdH0sIDgwMCk7XG5cdFx0JChcImh0bWxcIikuYW5pbWF0ZSh7XG5cdFx0XHQnc2Nyb2xsVG9wJzogMFxuXHRcdH0sIDgwMCk7XG5cdH0pO1xuXG5cdCQod2luZG93KS5vbihcInJlc2l6ZVwiLCBzZXRUb3BBc2lkZSk7XG5cblx0ZnVuY3Rpb24gc2V0VG9wQXNpZGUoKSB7XG5cdFx0JChcImhlYWRlciBuYXZcIikuY3NzKFwidG9wXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpLm9mZnNldEhlaWdodCk7XG5cdFx0JChcImhlYWRlciAuc3NtLW92ZXJsYXlcIikuY3NzKFwidG9wXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGVyXCIpLm9mZnNldEhlaWdodCk7XG5cdH1cblx0c2V0VG9wQXNpZGUoKTtcblxuXHQkKCcuc3RpY2t5JykuU3RpY2t5ZmlsbCgpO1xufSk7Il19
